@import "helpers";
@import "compass";


// this is the core upload class
div.co-circle-progress {
	position: relative;
	width: 100%;
	height: 1em;

    // Common traits of all the circles
    div.co-circle {
        position:absolute;
        @include border-radius(0.5em);
        background: transparent;

        width: 1em;
        height: 1em;

        border: 0.04em solid;
        width:0.92em; /* 1 - (2 * border width) */
        height:0.92em; /* 1 - (2 * border width) */
    }

	&> div.co-progress {
        position:absolute;
		width: 1em;
		height: 1em;
        background: transparent;

        // Hides half of the circle
        clip: rect(0px,1em,1em,0.5em);

        // The two half circles that make up the progress
        &> div {
            border-color: #50a6d3;
            clip:rect(0em,0.5em,1em,0em);

            -webkit-transition: -webkit-transform 0.3s linear;
            -moz-transition: -moz-transform 0.3s linear;
            -ms-transition: -ms-transform 0.3s linear;
            -o-transition: -o-transform 0.3s linear;
            transition: transform 0.3s linear;

            // This one does not rotate
            &.filled {
                display: none;
                @include transform(rotate(180deg));
            }
        }

        // Once the progress reaches 50% we remove the clip
		&.gt50 {
			clip: rect(auto, auto, auto, auto);

            // and display the solid half circle in full
            &> div.filled {
                display: block;
            }
		}
	}

    // Circle background and empty progress color
    &> div.bg { 
        background-position: 50% 5%;
        background-size: 80% 60%;
        background-color: #2b383f;
        border-color: #ccc;
    }

    // Centering of the transcluded content by default
    &> div.circle-content {
        position:absolute;
        height: 1em;
        width: 1em;

        &> div {
            display: table-row;
            width: 1em;
            height: 1em;

            &> div {
                display: table-cell;
                vertical-align: middle;
                text-align: center;
                width: 1em;
            }
        }
    }
}





div.upload-container {
    width: 30%;
    height: 100%;
}

// Customise the data to be displayed in the circle
div.circle-content {

    // Work pending (waiting to perform action)
    div.work {
        display:none;

        &.pending {
            display:block;
            top: 0;
            left: 0;
            border-color: $red;  // Same as div.circle
            border-style: dashed;

            -webkit-animation-duration: 3s;
            -webkit-animation-name: spinners;
            -webkit-animation-timing-function: linear;
            -webkit-animation-iteration-count: infinite;
            -moz-animation-duration: 3s;
            -moz-animation-name: spinners;
            -moz-animation-timing-function: linear;
            -moz-animation-iteration-count: infinite;
            -ms-animation-duration: 3s;
            -ms-animation-name: spinners;
            -ms-animation-timing-function: linear;
            -ms-animation-iteration-count: infinite;
            -o-animation-duration: 3s;
            -o-animation-name: spinners;
            -o-animation-timing-function: linear;
            -o-animation-iteration-count: infinite;
            animation-duration: 3s;
            animation-name: spinners;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }
    }

    p {
        font-family: 'Oswald';
        text-transform: uppercase;
        font-size: 0.075em;
        font-weight: 300;
        margin: 0;
        color: $white;
        text-align: center;
    }

    &.waiting {
        background: url(../images/upload.svg) no-repeat top center;
        background-size: contain;
    }
    &.uploading { 
        width: 100%;
        font-size: 3.5em;
        bottom:31%;
        left: 0% !important;
        text-align: center;
    }
}

.ng-cloak, .hide {
    display: none;
}

@-webkit-keyframes spinners {
  from {
    -webkit-transform:rotate(0deg);
  }
 
  to {
    -webkit-transform:rotate(360deg);
  }
}
@-moz-keyframes spinners {
  from {
    -moz-transform:rotate(0deg);
  }
 
  to {
    -moz-transform:rotate(360deg);
  }
}
@-ms-keyframes spinners {
  from {
    -ms-transform:rotate(0deg);
  }
 
  to {
    -ms-transform:rotate(360deg);
  }
}
@-o-keyframes spinners {
  from {
    -o-transform:rotate(0deg);
  }
 
  to {
    -o-transform:rotate(360deg);
  }
}
@keyframes spinners {
  from {
    transform:rotate(0deg);
  }
 
  to {
    transform:rotate(360deg);
  }
}


